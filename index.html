<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; background-color: #000000; background-color: rgba(0, 0, 0, 0); min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #a7c598; -webkit-text-stroke: #a7c598; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083; background-color: #000000; background-color: rgba(0, 0, 0, 0); min-height: 16.0px}
    span.s1 {font-kerning: none}
    span.s2 {font-kerning: none; color: #8cd3fe; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #b76ff7; -webkit-text-stroke: 0px #b76ff7}
    span.s11 {font-kerning: none; color: #36c0a0; -webkit-text-stroke: 0px #36c0a0}
    span.s12 {font-kerning: none; color: #f67c30; -webkit-text-stroke: 0px #f67c30}
    span.s13 {font-kerning: none; color: #ee2e38; -webkit-text-stroke: 0px #ee2e38}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Amelie | Montessori Parenting</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Tailwind CSS CDN --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Fonts: Playfair Display (Headings) &amp; Inter (Body) --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&amp;family=Playfair+Display:ital,wght@0,600;0,700;1,600&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- PWA Meta Tags --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"apple-mobile-web-app-capable"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"yes"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"apple-mobile-web-app-status-bar-style"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"black-translucent"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">:root</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-cream:</span><span class="s1"> #FDFBF7</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-paper:</span><span class="s1"> #ffffff</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-sky-blue:</span><span class="s1"> #B8D4E3</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-steel-blue:</span><span class="s1"> #5D7F93</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-terracotta:</span><span class="s1"> #D97D75</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-success:</span><span class="s1"> #8CB369</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-text-main:</span><span class="s1"> #2C3333</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--color-text-muted:</span><span class="s1"> #7F8487</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> </span><span class="s1">var(--color-cream)</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-image:</span><span class="s4"> </span><span class="s1">radial-gradient(</span><span class="s4">#E8E3D9 </span><span class="s9">1px</span><span class="s7">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s9">1px</span><span class="s1">)</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-size:</span><span class="s4"> </span><span class="s9">24px</span><span class="s4"> </span><span class="s9">24px</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s4"> </span><span class="s1">var(--color-text-main)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s1"> </span><span class="s9">100vh</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-font-smoothing:</span><span class="s4"> </span><span class="s5">antialiased</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">overscroll-behavior-y:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">h1</span><span class="s7">,</span><span class="s1"> </span><span class="s6">h2</span><span class="s7">,</span><span class="s1"> </span><span class="s6">h3</span><span class="s7">,</span><span class="s1"> </span><span class="s6">.serif</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s4"> </span><span class="s1">'Playfair Display'</span><span class="s7">,</span><span class="s4"> </span><span class="s5">serif</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">width:</span><span class="s4"> </span><span class="s9">0px</span><span class="s7">;</span><span class="s4"> </span><span class="s2">background:</span><span class="s4"> </span><span class="s5">transparent</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.btn-base</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">1rem</span><span class="s1"> </span><span class="s9">1.5rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s9">600</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">letter-spacing:</span><span class="s4"> </span><span class="s9">0.02em</span><span class="s7">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">4px</span><span class="s4"> </span><span class="s1">12px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s1">93</span><span class="s7">,</span><span class="s4"> </span><span class="s1">127</span><span class="s7">,</span><span class="s4"> </span><span class="s1">147</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0.15</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">all</span><span class="s1"> </span><span class="s9">0.2s</span><span class="s1"> </span><span class="s5">cubic-bezier(</span><span class="s9">0.25</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.8</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.25</span><span class="s7">,</span><span class="s1"> </span><span class="s9">1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s7">,</span><span class="s9">255</span><span class="s7">,</span><span class="s9">255</span><span class="s7">,</span><span class="s9">0.2</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-tap-highlight-color:</span><span class="s4"> </span><span class="s5">transparent</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-base:active</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scale(</span><span class="s9">0.96</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">93</span><span class="s7">,</span><span class="s1"> </span><span class="s9">127</span><span class="s7">,</span><span class="s1"> </span><span class="s9">147</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s1"> </span><span class="s5">inset</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.card</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.9</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s5">blur(</span><span class="s9">12px</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-backdrop-filter:</span><span class="s4"> </span><span class="s5">blur(</span><span class="s9">12px</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">1.5rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">8px</span><span class="s1"> </span><span class="s9">32px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.03</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.6</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.text-steel-accent</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">color:</span><span class="s4"> </span><span class="s1">var(--color-steel-blue)</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.bg-steel-accent</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">background-color:</span><span class="s4"> </span><span class="s1">var(--color-steel-blue)</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.bg-sky-accent</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">background-color:</span><span class="s4"> </span><span class="s1">var(--color-sky-blue)</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.bg-terracotta</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">background-color:</span><span class="s4"> </span><span class="s1">var(--color-terracotta)</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.bg-success</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">background-color:</span><span class="s4"> </span><span class="s1">var(--color-success)</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.text-terracotta</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">color:</span><span class="s4"> </span><span class="s1">var(--color-terracotta)</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#app-container</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s9">480px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s5">auto</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s1"> </span><span class="s9">100vh</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">padding-bottom:</span><span class="s4"> </span><span class="s9">7rem</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">padding-top:</span><span class="s4"> </span><span class="s1">env(safe-area-inset-top)</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">padding-bottom:</span><span class="s4"> </span><span class="s1">calc(</span><span class="s9">7rem</span><span class="s4"> </span><span class="s7">+</span><span class="s4"> </span><span class="s1">env(safe-area-inset-bottom))</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Animations */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.fade-in</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">fadeInUp</span><span class="s4"> </span><span class="s9">0.4s</span><span class="s4"> </span><span class="s1">ease-out</span><span class="s4"> </span><span class="s1">forwards</span><span class="s7">;</span><span class="s4"> </span><span class="s2">opacity:</span><span class="s4"> </span><span class="s9">0</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">@keyframes</span><span class="s1"> </span><span class="s5">fadeInUp</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">from</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0</span><span class="s7">;</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">translateY(</span><span class="s9">10px</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">to</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">1</span><span class="s7">;</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">translateY(</span><span class="s9">0</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.breathe-circle</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">breathe</span><span class="s4"> </span><span class="s9">5s</span><span class="s4"> </span><span class="s1">infinite</span><span class="s4"> </span><span class="s1">ease-in-out</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">@keyframes</span><span class="s1"> </span><span class="s5">breathe</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s7">,</span><span class="s1"> </span><span class="s9">100%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scale(</span><span class="s9">1</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0.6</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">50%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scale(</span><span class="s9">1.4</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0.3</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.input-field</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">1rem</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #E5E7EB</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #F9FAFB</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">all</span><span class="s1"> </span><span class="s9">0.2s</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">1rem</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-appearance:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.input-field:focus</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-color:</span><span class="s4"> </span><span class="s1">var(--color-steel-blue)</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s5">white</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">outline:</span><span class="s1"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">3px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">93</span><span class="s7">,</span><span class="s1"> </span><span class="s9">127</span><span class="s7">,</span><span class="s1"> </span><span class="s9">147</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.nav-btn</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #9CA3AF</span><span class="s7">;</span><span class="s1"> </span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">color</span><span class="s1"> </span><span class="s9">0.3s</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.nav-btn.active</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s2">color:</span><span class="s4"> </span><span class="s1">var(--color-steel-blue)</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.brand-logo</span><span class="s4"> </span><span class="s6">svg</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">inline-block</span><span class="s7">;</span><span class="s4"> </span><span class="s1">vertical-align:</span><span class="s4"> </span><span class="s5">middle</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Progress Bar */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.progress-bg</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">background-color:</span><span class="s4"> #E5E7EB</span><span class="s7">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">4px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s7">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">2px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">overflow:</span><span class="s4"> </span><span class="s5">hidden</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.progress-fill</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s7">;</span><span class="s4"> </span><span class="s1">transition:</span><span class="s4"> </span><span class="s5">width</span><span class="s4"> </span><span class="s9">0.5s</span><span class="s4"> </span><span class="s5">ease-out</span><span class="s7">;</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"app-container"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"content"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex-grow p-5"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Content injected here --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Floating Bottom Navigation --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"nav-bar"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed bottom-6 left-4 right-4 bg-white/90 backdrop-blur-xl border border-white/50 shadow-xl z-20 hidden max-w-[448px] mx-auto rounded-2xl pb-[env(safe-area-inset-bottom)]"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-around items-center h-16"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"navigate('home')"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"nav-home"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"nav-btn w-full h-full flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-6 h-6"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"navigate('shop')"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"nav-shop"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"nav-btn w-full h-full flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-6 h-6"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"navigate('library')"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"nav-library"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"nav-btn w-full h-full flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-6 h-6"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M12 6.253v13m0-13C10.832 5.477 9.206 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.832 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.794 5 16.5 5c1.706 0 3.332.477 4.5 1.253v13C19.832 18.477 18.168 18 16.5 18s-3.332.477-4.5 1.253"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"navigate('settings')"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"nav-settings"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"nav-btn w-full h-full flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-6 h-6"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.228.608 3.224 0z"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M15 12a3 3 0 11-6 0 3 3 0 016 0z"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LOCAL STORAGE MOCK DB ---</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> </span><span class="s11">DB_KEY</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'amelie_app_data'</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> initDB</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">localStorage</span><span class="s7">.</span><span class="s1">getItem</span><span class="s7">(</span><span class="s11">DB_KEY</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> initialData </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>profile</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> parent_name</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Parent'</span><span class="s7">,</span><span class="s1"> child_name</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Child'</span><span class="s7">,</span><span class="s1"> subscriptionStatus</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'FREE'</span><span class="s7">,</span><span class="s1"> unlockedModules</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span><span class="s8">'Truth_4-6'</span><span class="s7">]</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>tracking</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>mood_logs</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>localStorage</span><span class="s7">.</span><span class="s1">setItem</span><span class="s7">(</span><span class="s11">DB_KEY</span><span class="s7">,</span><span class="s1"> </span><span class="s11">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">initialData</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> db </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">get</span><span class="s7">:</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s11">JSON</span><span class="s7">.</span><span class="s1">parse</span><span class="s7">(</span><span class="s1">localStorage</span><span class="s7">.</span><span class="s1">getItem</span><span class="s7">(</span><span class="s11">DB_KEY</span><span class="s7">)),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>save</span><span class="s7">:</span><span class="s1"> </span><span class="s7">(</span><span class="s1">data</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> localStorage</span><span class="s7">.</span><span class="s1">setItem</span><span class="s7">(</span><span class="s11">DB_KEY</span><span class="s7">,</span><span class="s1"> </span><span class="s11">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">data</span><span class="s7">)),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>updateProfile</span><span class="s7">:</span><span class="s1"> </span><span class="s7">(</span><span class="s1">updates</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> db</span><span class="s7">.</span><span class="s10">get</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>data</span><span class="s7">.</span><span class="s1">profile </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s7">...</span><span class="s1">data</span><span class="s7">.</span><span class="s1">profile</span><span class="s7">,</span><span class="s1"> </span><span class="s7">...</span><span class="s1">updates </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>db</span><span class="s7">.</span><span class="s1">save</span><span class="s7">(</span><span class="s1">data</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s1"> </span><span class="s11">Promise</span><span class="s7">.</span><span class="s1">resolve</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>addLog</span><span class="s7">:</span><span class="s1"> </span><span class="s7">(</span><span class="s1">collection</span><span class="s7">,</span><span class="s1"> item</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> db</span><span class="s7">.</span><span class="s10">get</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s7">(!</span><span class="s1">data</span><span class="s7">[</span><span class="s1">collection</span><span class="s7">])</span><span class="s1"> data</span><span class="s7">[</span><span class="s1">collection</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>data</span><span class="s7">[</span><span class="s1">collection</span><span class="s7">].</span><span class="s1">push</span><span class="s7">(</span><span class="s1">item</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>db</span><span class="s7">.</span><span class="s1">save</span><span class="s7">(</span><span class="s1">data</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s1"> </span><span class="s11">Promise</span><span class="s7">.</span><span class="s1">resolve</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- APP STATE ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">let</span><span class="s1"> appState </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>view</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'loading'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>unlockedModules</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span><span class="s8">'Truth_4-6'</span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>subscriptionStatus</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'FREE'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ritualStep</span><span class="s7">:</span><span class="s1"> </span><span class="s12">1</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>patienceDecision</span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>selectedMood</span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>parentName</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Parent'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>childName</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Child'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>moodHistory</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>selectedProduct</span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>selectedGuide</span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>guideFilter</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'All'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- DATA: MOOD TIPS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> </span><span class="s11">MOOD_TIPS</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>happy</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Share this joy! Ask your child: 'What made you smile today?'"</span><span class="s7">,</span><span class="s4"> color</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"bg-yellow-50 border-yellow-100 text-yellow-800"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>calm</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"A perfect moment to connect. Try reading a book together quietly."</span><span class="s7">,</span><span class="s4"> color</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"bg-blue-50 border-blue-100 text-blue-800"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>frustrated</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Take a 3-second pause. Model it: 'I'm feeling frustrated, so I'm breathing.'"</span><span class="s7">,</span><span class="s4"> color</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"bg-red-50 border-red-100 text-red-800"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>tired</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"It's okay to rest. Lower the lights and choose a quiet activity."</span><span class="s7">,</span><span class="s4"> color</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"bg-gray-50 border-gray-200 text-gray-600"</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- DATA: PRODUCTS &amp; GUIDES ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> </span><span class="s11">PRODUCTS</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">'Patience_7-9'</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>id</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Patience_7-9'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Patience Kit'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>price</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'34.99'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>image</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'⏳'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'A tangible toolkit to help emerging reasoners master the difficult skill of pausing before reacting.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>problem</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Children in this age group face complex social dynamics but often lack the neurological maturity to pause their immediate emotional reactions, leading to conflict.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>solution</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'The kit provides a "Physical Pause." The wooden timer externalizes the concept of waiting, giving their brain the 30 seconds needed for the prefrontal cortex to engage.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>science</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Impulse control is a finite resource. By externalizing the passage of time (via the timer) and the decision process (via the wheel), we reduce cognitive load.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>usage</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'When you see frustration rising, flip the Timer. The rule is: "No talking until the sand runs out." This breaks the escalation cycle.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>testimonial</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"The 'Physical Pause' concept changed our dinner table dynamics. No more shouting matches."</span><span class="s7">,</span><span class="s4"> author</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"David, Dad of Maya (8)"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>components</span><span class="s7">:</span><span class="s4"> </span><span class="s7">[</span><span class="s1">'Wooden timer'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'Scenario cards'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'Reflection cards'</span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>value</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Patience'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ageGroup</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'7–9'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">'Truth_4-6'</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>id</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Truth_4-6'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Truth Kit'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>price</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'29.99'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>image</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'✨'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'A gentle, foundational kit designed to guide young children through the often-blurry line between imagination and reality.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>problem</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Young children (4-6) often "lie" not to deceive, but because their magical thinking blurs with reality. They may feel shame when accused of untruths.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>solution</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'This kit removes the shame. By using the "Truth Token," children learn a physical cue for when it is time to state facts versus when it is time for storytelling.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>science</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Between ages 4-6, the prefrontal cortex is developing rapidly. "Magical thinking" helps children make sense of the world but often conflicts with adult expectations of truth.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>usage</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'When a situation arises, hand the child the Truth Token. The rule is simple: "When we hold the token, we say what really happened."'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>testimonial</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"My son finally tells me when he breaks something instead of blaming the dog! The token works like magic."</span><span class="s7">,</span><span class="s4"> author</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Clara, Mom of Leo (5)"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>components</span><span class="s7">:</span><span class="s4"> </span><span class="s7">[</span><span class="s1">'Real/pretend cards'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'Story prompts'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'Parent mini-guide'</span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>value</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Truth'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ageGroup</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'4–6'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> </span><span class="s11">GUIDES</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>science_pause</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>id</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'science_pause'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Science of the Pause'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>duration</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'8 min listen'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'audio'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>summary</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Why a small pause calms the nervous system.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>body</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'A short, research-backed explanation of what happens in your child’s brain and body when you invite a pause. We cover stress responses, co-regulation, and how to make “the pause” feel safe rather than like a punishment.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>cta</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'I’ll try this this week'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>toddler_grounding</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>id</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'toddler_grounding'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Toddler Grounding'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>duration</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'6 min read'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'article'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>summary</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Simple grounding rituals for 2–4 year olds.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>body</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'This guide walks you through three simple grounding practices using objects you already have at home. You’ll learn how to name sensations, slow breathing, and gently redirect attention without shaming or dismissing feelings.'</span><span class="s7">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>cta</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Save grounding steps'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> logoSvg </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>&lt;svg class="w-8 h-8 text-steel-accent mr-2 inline-block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;path d="M12 8v-2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;path d="M12 16v2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;path d="M16 12h2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;path d="M6 12h2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/svg&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span>`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LOGIC ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> initApp</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>initDB</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadUserData</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> navBar </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'nav-bar'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">navBar</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>navBar</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span><span class="s1"> </span><span class="s12">800</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> loadUserData</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> db</span><span class="s7">.</span><span class="s10">get</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">unlockedModules </span><span class="s7">=</span><span class="s1"> </span><span class="s11">Array</span><span class="s7">.</span><span class="s1">isArray</span><span class="s7">(</span><span class="s1">data</span><span class="s7">.</span><span class="s1">profile</span><span class="s7">.</span><span class="s1">unlockedModules</span><span class="s7">)</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">profile</span><span class="s7">.</span><span class="s1">unlockedModules </span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span><span class="s8">'Truth_4-6'</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">subscriptionStatus </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">profile</span><span class="s7">.</span><span class="s1">subscriptionStatus </span><span class="s7">||</span><span class="s1"> </span><span class="s8">'FREE'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">parentName </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">profile</span><span class="s7">.</span><span class="s1">parent_name </span><span class="s7">||</span><span class="s1"> </span><span class="s8">'Parent'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">childName </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">profile</span><span class="s7">.</span><span class="s1">child_name </span><span class="s7">||</span><span class="s1"> </span><span class="s8">'Child'</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> weekAgo </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s11">Date</span><span class="s7">(</span><span class="s11">Date</span><span class="s7">.</span><span class="s1">now</span><span class="s7">()</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> </span><span class="s12">7</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s12">24</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s12">60</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s12">60</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s12">1000</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> rituals </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">tracking </span><span class="s7">?</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">tracking</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">r </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">({...</span><span class="s1">r</span><span class="s7">,</span><span class="s1"> ritual_completed</span><span class="s7">:</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s11">Date</span><span class="s7">(</span><span class="s1">r</span><span class="s7">.</span><span class="s1">ritual_completed</span><span class="s7">)}))</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">lastRitualCompleted </span><span class="s7">=</span><span class="s1"> rituals</span><span class="s7">.</span><span class="s1">reverse</span><span class="s7">().</span><span class="s1">find</span><span class="s7">(</span><span class="s1">r </span><span class="s7">=&gt;</span><span class="s1"> r</span><span class="s7">.</span><span class="s1">ritual_completed </span><span class="s7">&gt;</span><span class="s1"> weekAgo</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> moods </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">mood_logs </span><span class="s7">?</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">mood_logs</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">m </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">({...</span><span class="s1">m</span><span class="s7">,</span><span class="s1"> timestamp</span><span class="s7">:</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s11">Date</span><span class="s7">(</span><span class="s1">m</span><span class="s7">.</span><span class="s1">timestamp</span><span class="s7">)}))</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">moodHistory </span><span class="s7">=</span><span class="s1"> moods</span><span class="s7">.</span><span class="s1">sort</span><span class="s7">((</span><span class="s1">a</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> b</span><span class="s7">.</span><span class="s1">timestamp </span><span class="s7">-</span><span class="s1"> a</span><span class="s7">.</span><span class="s1">timestamp</span><span class="s7">).</span><span class="s1">slice</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">5</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">parentName </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'Parent'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> showWelcomeModal</span><span class="s7">(),</span><span class="s1"> </span><span class="s12">500</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>navigate</span><span class="s7">(</span><span class="s8">'home'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> showWelcomeModal</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> modal </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>modal</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 z-50 fade-in'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>modal</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-sm text-center"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="text-4xl mb-4"&gt;👋&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-2xl font-serif font-bold text-gray-800 mb-2"&gt;Welcome to Amelie&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-600 mb-6 text-sm"&gt;Let's personalize your experience.&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;input id="welcome-pname" class="input-field mb-3" placeholder="Your Name"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;input id="welcome-cname" class="input-field mb-6" placeholder="Child's Name"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="btn-base bg-steel-accent text-white w-full shadow-lg" id="welcome-btn"&gt;Start Journey&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">modal</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>modal</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'#welcome-btn'</span><span class="s7">).</span><span class="s1">onclick </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> pName </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'welcome-pname'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> cName </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'welcome-cname'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">pName </span><span class="s7">&amp;&amp;</span><span class="s1"> cName</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>db</span><span class="s7">.</span><span class="s1">updateProfile</span><span class="s7">({</span><span class="s1"> parent_name</span><span class="s7">:</span><span class="s1"> pName</span><span class="s7">,</span><span class="s1"> child_name</span><span class="s7">:</span><span class="s1"> cName </span><span class="s7">}).</span><span class="s1">then</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>appState</span><span class="s7">.</span><span class="s1">parentName </span><span class="s7">=</span><span class="s1"> pName</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>appState</span><span class="s7">.</span><span class="s1">childName </span><span class="s7">=</span><span class="s1"> cName</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>modal</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> logRitualCompletion</span><span class="s7">(</span><span class="s1">moduleName</span><span class="s7">,</span><span class="s1"> dataPoints</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>db</span><span class="s7">.</span><span class="s1">addLog</span><span class="s7">(</span><span class="s8">'tracking'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>module_name</span><span class="s7">:</span><span class="s1"> moduleName</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ritual_completed</span><span class="s7">:</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s11">Date</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">...</span><span class="s1">dataPoints</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}).</span><span class="s1">then</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadUserData</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> logMood</span><span class="s7">(</span><span class="s1">moodId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>db</span><span class="s7">.</span><span class="s1">addLog</span><span class="s7">(</span><span class="s8">'mood_logs'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>mood</span><span class="s7">:</span><span class="s1"> moodId</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>timestamp</span><span class="s7">:</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s11">Date</span><span class="s7">()</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> newLog </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> mood</span><span class="s7">:</span><span class="s1"> moodId</span><span class="s7">,</span><span class="s1"> timestamp</span><span class="s7">:</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s11">Date</span><span class="s7">()</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">moodHistory</span><span class="s7">.</span><span class="s1">unshift</span><span class="s7">(</span><span class="s1">newLog</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">moodHistory </span><span class="s7">=</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">moodHistory</span><span class="s7">.</span><span class="s1">slice</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">5</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- PUBLIC HELPERS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">buyProduct </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">id</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> </span><span class="s11">PRODUCTS</span><span class="s7">[</span><span class="s1">id</span><span class="s7">];</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>alertModal</span><span class="s7">(</span><span class="s1">'Ordered!'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">`Your </span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">title</span><span class="s7">}</span><span class="s1"> is on its way! The digital module has been unlocked.`</span><span class="s7">,</span><span class="s4"> </span><span class="s7">()</span><span class="s4"> </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s7">(!</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">unlockedModules</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s1">id</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>appState</span><span class="s7">.</span><span class="s1">unlockedModules</span><span class="s7">.</span><span class="s1">push</span><span class="s7">(</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>db</span><span class="s7">.</span><span class="s1">updateProfile</span><span class="s7">({</span><span class="s1">unlockedModules</span><span class="s7">:</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">unlockedModules</span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>navigate</span><span class="s7">(</span><span class="s8">'home'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">saveProfile </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> pName </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'parent-name-input'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> cName </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'child-name-input'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">pName</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">()</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">cName</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">())</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> alertModal</span><span class="s7">(</span><span class="s8">"Incomplete"</span><span class="s7">,</span><span class="s1"> </span><span class="s8">"Enter both names."</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>db</span><span class="s7">.</span><span class="s1">updateProfile</span><span class="s7">({</span><span class="s1"> parent_name</span><span class="s7">:</span><span class="s1"> pName</span><span class="s7">,</span><span class="s1"> child_name</span><span class="s7">:</span><span class="s1"> cName </span><span class="s7">}).</span><span class="s1">then</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">parentName </span><span class="s7">=</span><span class="s1"> pName</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">childName </span><span class="s7">=</span><span class="s1"> cName</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>alertModal</span><span class="s7">(</span><span class="s8">"Saved"</span><span class="s7">,</span><span class="s1"> </span><span class="s8">"Profile updated!"</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> navigate</span><span class="s7">(</span><span class="s8">'home'</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">unlockPatience </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">unlockedModules</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s8">'Patience_7-9'</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>alertModal</span><span class="s7">(</span><span class="s1">"Unlocked"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Kit is already active."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s1"> navigate</span><span class="s7">(</span><span class="s8">'home'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> newModules </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[...</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">unlockedModules</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'Patience_7-9'</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>db</span><span class="s7">.</span><span class="s1">updateProfile</span><span class="s7">({</span><span class="s1"> unlockedModules</span><span class="s7">:</span><span class="s1"> newModules </span><span class="s7">}).</span><span class="s1">then</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">unlockedModules </span><span class="s7">=</span><span class="s1"> newModules</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>alertModal</span><span class="s7">(</span><span class="s1">"Success"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Patience Kit unlocked!"</span><span class="s7">,</span><span class="s4"> </span><span class="s7">()</span><span class="s4"> </span><span class="s7">=&gt;</span><span class="s4"> navigate</span><span class="s7">(</span><span class="s1">'home'</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">upgradeSubscription </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>db</span><span class="s7">.</span><span class="s1">updateProfile</span><span class="s7">({</span><span class="s1"> subscriptionStatus</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'CORE+'</span><span class="s1"> </span><span class="s7">}).</span><span class="s1">then</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">subscriptionStatus </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'CORE+'</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>alertModal</span><span class="s7">(</span><span class="s1">"Welcome"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"You are now a CORE+ member."</span><span class="s7">,</span><span class="s4"> </span><span class="s7">()</span><span class="s4"> </span><span class="s7">=&gt;</span><span class="s4"> render</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">signOutUser </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>localStorage</span><span class="s7">.</span><span class="s1">removeItem</span><span class="s7">(</span><span class="s11">DB_KEY</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>location</span><span class="s7">.</span><span class="s1">reload</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">selectMood </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">moodId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">selectedMood </span><span class="s7">=</span><span class="s1"> moodId</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>logMood</span><span class="s7">(</span><span class="s1">moodId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">handlePatienceDecision </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">decision</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">patienceDecision </span><span class="s7">=</span><span class="s1"> decision</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">decision </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'Pause'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">view </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'patience_breathing'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>appState</span><span class="s7">.</span><span class="s1">view </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'patience_ritual'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>appState</span><span class="s7">.</span><span class="s1">ritualStep </span><span class="s7">=</span><span class="s1"> </span><span class="s12">4</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">},</span><span class="s1"> </span><span class="s12">4000</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">ritualStep </span><span class="s7">=</span><span class="s1"> </span><span class="s12">4</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">openProduct </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">productKey</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> product </span><span class="s7">=</span><span class="s1"> </span><span class="s11">PRODUCTS</span><span class="s7">[</span><span class="s1">productKey</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">product</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>navigate</span><span class="s7">(</span><span class="s8">'product_detail'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> product </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">openGuide </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">guideKey</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> guide </span><span class="s7">=</span><span class="s1"> </span><span class="s11">GUIDES</span><span class="s7">[</span><span class="s1">guideKey</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">guide</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>navigate</span><span class="s7">(</span><span class="s8">'guidance_detail'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> guide </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- NAVIGATION &amp; RENDER ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">navigate </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">newView</span><span class="s7">,</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{})</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>appState</span><span class="s7">.</span><span class="s1">view </span><span class="s7">=</span><span class="s1"> newView</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">newView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'patience_ritual'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">ritualStep </span><span class="s7">=</span><span class="s1"> </span><span class="s12">1</span><span class="s7">;</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">patienceDecision </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">newView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'truth_ritual'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">ritualStep </span><span class="s7">=</span><span class="s1"> </span><span class="s12">1</span><span class="s7">;</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">truth </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> correct</span><span class="s7">:</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> total</span><span class="s7">:</span><span class="s1"> </span><span class="s12">0</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">newView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'product_detail'</span><span class="s7">)</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">selectedProduct </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">product</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">newView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'guidance_detail'</span><span class="s7">)</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">selectedGuide </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">guide</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>updateNavBar</span><span class="s7">(</span><span class="s1">newView</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s7">.</span><span class="s1">scrollTo</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> updateNavBar </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">activeView</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">[</span><span class="s1">'nav-home'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'nav-shop'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'nav-library'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'nav-settings'</span><span class="s7">].</span><span class="s4">forEach</span><span class="s7">(</span><span class="s4">id </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> btn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">btn</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'active'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'text-steel-accent'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-gray-400'</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> isHome </span><span class="s7">=</span><span class="s1"> activeView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'home'</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> activeView</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s8">'ritual'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> activeView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'qr'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> isShop </span><span class="s7">=</span><span class="s1"> activeView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'shop'</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> activeView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'product_detail'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> isLib </span><span class="s7">=</span><span class="s1"> activeView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'library'</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> activeView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'guidance_detail'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> isSet </span><span class="s7">=</span><span class="s1"> activeView </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'settings'</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">((</span><span class="s1">id </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'nav-home'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> isHome</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">(</span><span class="s1">id </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'nav-shop'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> isShop</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">(</span><span class="s1">id </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'nav-library'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> isLib</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">(</span><span class="s1">id </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'nav-settings'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> isSet</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'active'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-steel-accent'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'text-gray-400'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> render </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> contentDiv </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'content'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> navBar </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'nav-bar'</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">contentDiv</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">([</span><span class="s1">'home'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'library'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'settings'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'shop'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'product_detail'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'guidance_detail'</span><span class="s7">].</span><span class="s4">includes</span><span class="s7">(</span><span class="s4">appState</span><span class="s7">.</span><span class="s4">view</span><span class="s7">))</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">navBar</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>navBar</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>updateNavBar</span><span class="s7">(</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">view</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">navBar</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>navBar</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">let</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">switch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">view</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'loading'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderLoading</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'home'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderHome</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'qr'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderQRScanner</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'library'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderLibrary</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'guidance_detail'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderGuidanceDetail</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'truth_ritual'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderTruthRitual</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'patience_ritual'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderPatienceRitual</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'patience_breathing'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderBreathingExercise</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'shop'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderShop</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'product_detail'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderProductDetail</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">'settings'</span><span class="s7">:</span><span class="s1"> html </span><span class="s7">=</span><span class="s1"> renderSettings</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>contentDiv</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> html</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- RENDER FUNCTIONS ---</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderLoading</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="text-center py-32 fade-in"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="brand-logo mb-6 animate-bounce mx-auto"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#5D7F93" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path d="M12 8v-2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path d="M12 16v2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path d="M16 12h2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;path d="M6 12h2"/&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h1 class="text-4xl font-serif font-bold text-gray-700 tracking-wide"&gt;Amelie&lt;/h1&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="mt-3 text-sm text-gray-400 uppercase tracking-widest"&gt;Mindful Parenting&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderHome</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> modules </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">unlockedModules </span><span class="s7">||</span><span class="s1"> </span><span class="s7">[])</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">m </span><span class="s7">=&gt;</span><span class="s1"> m </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s10">typeof</span><span class="s1"> m </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'string'</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">module </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> isPatience </span><span class="s7">=</span><span class="s1"> module</span><span class="s7">.</span><span class="s1">startsWith</span><span class="s7">(</span><span class="s8">'Patience'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> title </span><span class="s7">=</span><span class="s1"> isPatience </span><span class="s7">?</span><span class="s1"> </span><span class="s8">'Patience Kit'</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Truth Kit'</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s4"> subtitle </span><span class="s7">=</span><span class="s4"> isPatience </span><span class="s7">?</span><span class="s4"> </span><span class="s1">'Skills Series • Ages 7-9'</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Foundations • Ages 4-6'</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s4"> accentClass </span><span class="s7">=</span><span class="s4"> isPatience </span><span class="s7">?</span><span class="s4"> </span><span class="s1">'bg-steel-accent text-white hover:bg-opacity-90'</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'bg-sky-accent text-gray-800 hover:bg-opacity-90'</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s4"> buttonAction </span><span class="s7">=</span><span class="s4"> isPatience </span><span class="s7">?</span><span class="s4"> </span><span class="s1">"navigate('patience_ritual')"</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">"navigate('truth_ritual')"</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 mb-5 flex justify-between items-center transition-all duration-300 active:scale-95 cursor-pointer" onclick="</span><span class="s7">${</span><span class="s4">buttonAction</span><span class="s7">}</span><span class="s1">"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-[10px] font-bold tracking-widest text-gray-400 uppercase mb-1"&gt;</span><span class="s7">${</span><span class="s4">subtitle</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;h3 class="text-xl font-serif font-bold text-gray-800"&gt;</span><span class="s7">${</span><span class="s4">title</span><span class="s7">}</span><span class="s1">&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;button class="w-10 h-10 rounded-full flex items-center justify-center bg-gray-50 text-gray-400"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"&gt;&lt;/path&gt;&lt;/svg&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}).</span><span class="s1">join</span><span class="s7">(</span><span class="s8">''</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> moods </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s4"> id</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'happy'</span><span class="s7">,</span><span class="s4"> emoji</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'😊'</span><span class="s7">,</span><span class="s4"> bg</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'bg-yellow-50'</span><span class="s7">,</span><span class="s4"> ring</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'ring-yellow-300'</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> id</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'calm'</span><span class="s7">,</span><span class="s1"> emoji</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'😌'</span><span class="s7">,</span><span class="s1"> bg</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'bg-blue-50'</span><span class="s7">,</span><span class="s1"> ring</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'ring-blue-300'</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s4"> id</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'frustrated'</span><span class="s7">,</span><span class="s4"> emoji</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'😤'</span><span class="s7">,</span><span class="s4"> bg</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'bg-red-50'</span><span class="s7">,</span><span class="s4"> ring</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'ring-red-300'</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> id</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'tired'</span><span class="s7">,</span><span class="s1"> emoji</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'😴'</span><span class="s7">,</span><span class="s1"> bg</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'bg-gray-50'</span><span class="s7">,</span><span class="s1"> ring</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'ring-gray-300'</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">];</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> moodButtons </span><span class="s7">=</span><span class="s1"> moods</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">m </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> isActive </span><span class="s7">=</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">selectedMood </span><span class="s7">===</span><span class="s1"> m</span><span class="s7">.</span><span class="s1">id</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s4"> activeClass </span><span class="s7">=</span><span class="s4"> isActive </span><span class="s7">?</span><span class="s4"> </span><span class="s1">`ring-2 </span><span class="s7">${</span><span class="s4">m</span><span class="s7">.</span><span class="s4">ring</span><span class="s7">}</span><span class="s1"> bg-white scale-110 shadow-md`</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'bg-white/50 border border-gray-100'</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;button onclick="selectMood('</span><span class="s7">${</span><span class="s4">m</span><span class="s7">.</span><span class="s4">id</span><span class="s7">}</span><span class="s1">')" class="flex-shrink-0 w-14 h-14 rounded-2xl text-2xl flex items-center justify-center </span><span class="s7">${</span><span class="s4">activeClass</span><span class="s7">}</span><span class="s1"> transition-all duration-200"&gt;</span><span class="s7">${</span><span class="s4">m</span><span class="s7">.</span><span class="s4">emoji</span><span class="s7">}</span><span class="s1">&lt;/button&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}).</span><span class="s1">join</span><span class="s7">(</span><span class="s8">''</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Determine active tip</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">let</span><span class="s1"> activeTip </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">selectedMood </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s11">MOOD_TIPS</span><span class="s7">[</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">selectedMood</span><span class="s7">])</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> tip </span><span class="s7">=</span><span class="s1"> </span><span class="s11">MOOD_TIPS</span><span class="s7">[</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">selectedMood</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>activeTip </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-4 mb-8 border-l-4 </span><span class="s7">${</span><span class="s4">tip</span><span class="s7">.</span><span class="s4">color</span><span class="s7">}</span><span class="s1"> fade-in"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                         </span>&lt;h3 class="text-xs font-bold uppercase tracking-widest opacity-75 mb-1"&gt;Parenting Micro-Tip&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                         </span>&lt;p class="text-sm font-medium leading-relaxed"&gt;</span><span class="s7">${</span><span class="s4">tip</span><span class="s7">.</span><span class="s4">text</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="pt-8 pb-20 fade-in"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;header class="mb-10 px-2 flex justify-between items-center"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h1 class="text-3xl font-serif font-bold text-gray-800 tracking-tight mb-1"&gt;Hello, </span><span class="s7">${</span><span class="s4">appState</span><span class="s7">.</span><span class="s4">parentName</span><span class="s7">}</span><span class="s1">.&lt;/h1&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-gray-500 text-xs font-bold uppercase tracking-widest"&gt;Child: </span><span class="s7">${</span><span class="s4">appState</span><span class="s7">.</span><span class="s4">childName</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="opacity-50 scale-75"&gt;</span><span class="s7">${</span><span class="s4">logoSvg</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/header&gt;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 px-2"&gt;Daily Check-In&lt;/h2&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="flex space-x-4 overflow-x-auto pb-2 px-2 no-scrollbar mb-6"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">${</span><span class="s4">moodButtons</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">activeTip</span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-5 mb-10 border-l-4 border-steel-accent"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-sm font-serif font-bold text-gray-800 mb-2"&gt;Insight&lt;/h2&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-gray-600 text-sm"&gt;Consistency is the key to emotional growth.&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-end mb-5 px-2"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-2xl font-serif font-bold text-gray-800"&gt;Your Kits&lt;/h2&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="navigate('qr')" class="text-xs font-bold text-terracotta uppercase tracking-wide"&gt;+ Add Kit&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">modules</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderShop</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> list </span><span class="s7">=</span><span class="s1"> </span><span class="s11">Object</span><span class="s7">.</span><span class="s1">keys</span><span class="s7">(</span><span class="s11">PRODUCTS</span><span class="s7">).</span><span class="s1">map</span><span class="s7">(</span><span class="s1">key </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> </span><span class="s11">PRODUCTS</span><span class="s7">[</span><span class="s1">key</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div onclick="window.openProduct('</span><span class="s7">${</span><span class="s4">key</span><span class="s7">}</span><span class="s1">')" class="card p-4 mb-4 flex items-center cursor-pointer hover:shadow-lg transition"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="w-16 h-16 rounded-xl bg-gray-50 text-3xl flex items-center justify-center mr-4 shadow-inner"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">image</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-grow"&gt;&lt;h3 class="font-serif font-bold text-gray-800 text-lg"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">title</span><span class="s7">}</span><span class="s1">&lt;/h3&gt;&lt;p class="text-xs text-gray-500 font-bold uppercase tracking-wide mt-1"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">value</span><span class="s7">}</span><span class="s1">&lt;/p&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span class="font-bold text-steel-accent"&gt;</span><span class="s13">$</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">price</span><span class="s7">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">}).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 fade-in"&gt;&lt;h1 class="text-3xl font-serif font-bold text-steel-accent mb-6"&gt;Kit Store&lt;/h1&gt;&lt;p class="text-sm text-gray-500 mb-8"&gt;Tangible tools for emotional growth.&lt;/p&gt;</span><span class="s7">${</span><span class="s4">list</span><span class="s7">}</span><span class="s1">&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderProductDetail</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">selectedProduct</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">p</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> window</span><span class="s7">.</span><span class="s1">navigate</span><span class="s7">(</span><span class="s8">'shop'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="pt-6 pb-24 fade-in px-4 text-center"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="window.navigate('shop')" class="text-xs font-bold text-gray-400 uppercase mb-6 block text-left"&gt;← Back to Shop&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-8 text-center mb-6"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="w-32 h-32 bg-gray-50 rounded-full flex items-center justify-center text-6xl mx-auto mb-6 shadow-inner"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">image</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h1 class="text-3xl font-serif font-bold text-gray-800 mb-2"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">title</span><span class="s7">}</span><span class="s1">&lt;/h1&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="bg-gray-100 text-gray-600 text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider"&gt;Ages </span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">ageGroup</span><span class="s7">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-3xl font-serif font-bold text-steel-accent my-6"&gt;</span><span class="s13">$</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">price</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="window.buyProduct('</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">id</span><span class="s7">}</span><span class="s1">')" class="btn-base bg-terracotta text-white w-full shadow-lg"&gt;Order Now&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="text-left space-y-6"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xs font-bold text-terracotta uppercase tracking-widest mb-2"&gt;The Challenge&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="card p-5 bg-white/80 border-l-4 border-terracotta"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600 leading-relaxed"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">problem</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xs font-bold text-steel-accent uppercase tracking-widest mb-2"&gt;The Solution&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="card p-5 bg-white/80 border-l-4 border-steel-accent"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600 leading-relaxed"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">solution</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xs font-bold text-sky-blue uppercase tracking-widest mb-2 flex items-center"&gt;🧠 Science Corner&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="card p-5 bg-sky-50/50"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-700 leading-relaxed italic"&gt;"</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">science</span><span class="s7">}</span><span class="s1">"&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2"&gt;How to Use&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="card p-5 text-sm text-gray-600 leading-relaxed"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">usage</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">testimonial </span><span class="s7">?</span><span class="s4"> </span><span class="s1">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2"&gt;Parent Review&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="card p-5 flex flex-col items-center text-center"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;span class="text-yellow-400 text-xl mb-2"&gt;★★★★★&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600 italic mb-3"&gt;"</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">testimonial</span><span class="s7">.</span><span class="s4">text</span><span class="s7">}</span><span class="s1">"&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;span class="text-xs font-bold text-gray-400 uppercase"&gt;— </span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">testimonial</span><span class="s7">.</span><span class="s4">author</span><span class="s7">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;`</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">''</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2"&gt;What's Inside&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;ul class="card p-5 space-y-3 text-sm text-gray-600"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">components</span><span class="s7">.</span><span class="s4">map</span><span class="s7">(</span><span class="s4">c </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s1">`&lt;li class="flex items-center"&gt;&lt;span class="text-green-500 mr-3 font-bold"&gt;✓&lt;/span&gt; </span><span class="s7">${</span><span class="s4">c</span><span class="s7">}</span><span class="s1">&lt;/li&gt;`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">)}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/ul&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderLibrary</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s10">const</span><span class="s1"> list </span><span class="s7">=</span><span class="s1"> </span><span class="s11">Object</span><span class="s7">.</span><span class="s1">keys</span><span class="s7">(</span><span class="s11">GUIDES</span><span class="s7">).</span><span class="s1">map</span><span class="s7">(</span><span class="s1">key </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> g </span><span class="s7">=</span><span class="s1"> </span><span class="s11">GUIDES</span><span class="s7">[</span><span class="s1">key</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div onclick="window.openGuide('</span><span class="s7">${</span><span class="s4">key</span><span class="s7">}</span><span class="s1">')" class="card p-5 mb-4 flex items-center cursor-pointer hover:shadow-md"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center text-2xl mr-4 border border-gray-100"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">type </span><span class="s7">===</span><span class="s4"> </span><span class="s1">'audio'</span><span class="s4"> </span><span class="s7">?</span><span class="s4"> </span><span class="s1">'🎧'</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'📘'</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-grow"&gt;&lt;h3 class="font-serif font-bold text-gray-800 leading-tight"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">title</span><span class="s7">}</span><span class="s1">&lt;/h3&gt;&lt;p class="text-xs text-gray-500 mt-1 font-medium"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">summary</span><span class="s7">}</span><span class="s1">&lt;/p&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="text-gray-300"&gt;→&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">}).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 fade-in px-2"&gt;&lt;header class="mb-8"&gt;&lt;h1 class="text-3xl font-serif font-bold text-steel-accent mb-2"&gt;Parent Guide&lt;/h1&gt;&lt;/header&gt;</span><span class="s7">${</span><span class="s4">list</span><span class="s7">}</span><span class="s1">&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderGuidanceDetail</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> g </span><span class="s7">=</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">selectedGuide</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">g</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> window</span><span class="s7">.</span><span class="s1">navigate</span><span class="s7">(</span><span class="s8">'library'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="pt-6 pb-24 fade-in px-4"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="window.navigate('library')" class="text-xs font-bold text-gray-400 uppercase mb-6 flex items-center"&gt;← Back to Guides&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-8 mb-6"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="w-16 h-16 rounded-2xl bg-gray-50 flex items-center justify-center text-4xl mb-6"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">type </span><span class="s7">===</span><span class="s4"> </span><span class="s1">'audio'</span><span class="s4"> </span><span class="s7">?</span><span class="s4"> </span><span class="s1">'🎧'</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'📘'</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h1 class="text-3xl font-serif font-bold text-gray-800 mb-2 leading-tight"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">title</span><span class="s7">}</span><span class="s1">&lt;/h1&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="bg-sky-50 text-sky-600 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider mb-6 inline-block"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">duration</span><span class="s7">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="text-gray-600 text-sm leading-relaxed space-y-4"&gt;&lt;p class="font-bold"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">summary</span><span class="s7">}</span><span class="s1">&lt;/p&gt;&lt;p&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">body</span><span class="s7">}</span><span class="s1">&lt;/p&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="btn-base bg-steel-accent text-white w-full shadow-lg" onclick="alertModal('Done', 'Marked as read.', ()=&gt;navigate('library'))"&gt;</span><span class="s7">${</span><span class="s4">g</span><span class="s7">.</span><span class="s4">cta</span><span class="s7">}</span><span class="s1">&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderSettings</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s4"> history </span><span class="s7">=</span><span class="s4"> appState</span><span class="s7">.</span><span class="s4">moodHistory</span><span class="s7">.</span><span class="s4">map</span><span class="s7">(</span><span class="s4">m </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s1">`&lt;div class="p-2 bg-white mb-1 rounded border flex justify-between text-sm"&gt;&lt;span&gt;</span><span class="s7">${</span><span class="s4">m</span><span class="s7">.</span><span class="s4">mood</span><span class="s7">}</span><span class="s1">&lt;/span&gt;&lt;span class="text-xs text-gray-400"&gt;</span><span class="s7">${</span><span class="s4">m</span><span class="s7">.</span><span class="s4">timestamp</span><span class="s7">.</span><span class="s4">toLocaleTimeString</span><span class="s7">()}</span><span class="s1">&lt;/span&gt;&lt;/div&gt;`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">)</span><span class="s4"> </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'No logs'</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 fade-in px-2"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h1 class="text-3xl font-serif font-bold text-steel-accent mb-6"&gt;Settings&lt;/h1&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="card p-6 mb-6"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-4"&gt;Profile&lt;/h2&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;input id="parent-name-input" value="</span><span class="s7">${</span><span class="s4">appState</span><span class="s7">.</span><span class="s4">parentName</span><span class="s7">}</span><span class="s1">" class="input-field mb-2"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;input id="child-name-input" value="</span><span class="s7">${</span><span class="s4">appState</span><span class="s7">.</span><span class="s4">childName</span><span class="s7">}</span><span class="s1">" class="input-field mb-4"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="saveProfile()" class="btn-base bg-steel-accent text-white w-full text-sm"&gt;Save&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="card p-6 mb-6"&gt;&lt;h2 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-4"&gt;Moods&lt;/h2&gt;</span><span class="s7">${</span><span class="s4">history</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;button onclick="signOutUser()" class="w-full py-4 text-gray-400 text-xs font-bold uppercase"&gt;Reset App&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderQRScanner</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-10 pb-12 text-center fade-in h-full flex flex-col justify-center px-4"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="card p-8"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h1 class="text-2xl font-serif font-bold text-gray-800 mb-2"&gt;Scan Kit QR&lt;/h1&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-gray-100 w-full aspect-square rounded-2xl mb-6"&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="unlockPatience()" class="btn-base bg-steel-accent text-white w-full"&gt;Simulate Scan&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="navigate('home')" class="mt-6 text-gray-400 text-sm"&gt;Cancel&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> alertModal</span><span class="s7">(</span><span class="s1">title</span><span class="s7">,</span><span class="s1"> message</span><span class="s7">,</span><span class="s1"> callback</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> modal </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>modal</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center p-6 z-50 fade-in'</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>modal</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;div class="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-xs text-center"&gt;&lt;h3 class="text-xl font-serif font-bold mb-2"&gt;</span><span class="s7">${</span><span class="s4">title</span><span class="s7">}</span><span class="s1">&lt;/h3&gt;&lt;p class="text-gray-600 mb-6 text-sm"&gt;</span><span class="s7">${</span><span class="s4">message</span><span class="s7">}</span><span class="s1">&lt;/p&gt;&lt;button class="btn-base bg-steel-accent text-white w-full" id="modal-btn"&gt;OK&lt;/button&gt;&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">modal</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>modal</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'#modal-btn'</span><span class="s7">).</span><span class="s1">onclick </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> modal</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">();</span><span class="s1"> </span><span class="s10">if</span><span class="s7">(</span><span class="s1">callback</span><span class="s7">)</span><span class="s1"> callback</span><span class="s7">();</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- RITUAL RENDERERS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderBreathingExercise</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="h-full flex flex-col items-center justify-center fade-in pt-32"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-3xl font-serif font-bold text-steel-accent mb-12"&gt;Just breathe...&lt;/h2&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="relative w-72 h-72 flex items-center justify-center"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="absolute w-full h-full bg-steel-accent rounded-full opacity-20 breathe-circle"&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="absolute w-56 h-56 bg-steel-accent rounded-full opacity-30 breathe-circle" style="animation-delay: 0.5s"&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="text-7xl animate-pulse text-steel-accent"&gt;🌬️&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="mt-16 text-gray-400 text-center max-w-xs text-sm font-medium tracking-wide uppercase"&gt;Inhale ... Exhale&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Patience Ritual Helpers &amp; Render</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">nextPatienceStep </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">ritualStep</span><span class="s7">++;</span><span class="s1"> render</span><span class="s7">();</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">savePatienceReflection </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> val </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'reflection-input'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">val</span><span class="s7">.</span><span class="s4">trim</span><span class="s7">())</span><span class="s4"> </span><span class="s10">return</span><span class="s4"> alertModal</span><span class="s7">(</span><span class="s1">"Reflect First"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Please share a short thought."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>logRitualCompletion</span><span class="s7">(</span><span class="s8">'Patience_7-9'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> patience_decision_week1</span><span class="s7">:</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">patienceDecision</span><span class="s7">,</span><span class="s1"> reflection_text_audio</span><span class="s7">:</span><span class="s1"> val </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>alertModal</span><span class="s7">(</span><span class="s8">'Complete!'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">`Decision (</span><span class="s7">${</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">patienceDecision</span><span class="s7">}</span><span class="s8">) saved. Great work!`</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> navigate</span><span class="s7">(</span><span class="s8">'home'</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderPatienceRitual</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> step </span><span class="s7">=</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">ritualStep</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> totalSteps </span><span class="s7">=</span><span class="s1"> </span><span class="s12">5</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> progressWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">/</span><span class="s1"> totalSteps</span><span class="s7">)</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s12">100</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Progress bar component</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s4"> progressBar </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;div class="w-full bg-gray-100 rounded-full h-1.5 mb-6 overflow-hidden"&gt;&lt;div class="bg-steel-accent h-1.5 rounded-full transition-all duration-500" style="width: </span><span class="s7">${</span><span class="s4">progressWidth</span><span class="s7">}</span><span class="s1">%"&gt;&lt;/div&gt;&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">===</span><span class="s1"> </span><span class="s12">1</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 px-2 fade-in"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">progressBar</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-10 text-center mt-8 relative overflow-hidden"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="absolute top-0 left-0 w-full h-1 bg-steel-accent/20"&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="text-7xl mb-8"&gt;⌛&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-3xl font-serif font-bold mb-4 text-gray-800"&gt;The Timer&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-lg text-gray-600 mb-8"&gt;Take out the wooden timer. This is your physical pause.&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="nextPatienceStep()" class="btn-base bg-steel-accent text-white w-full shadow-xl"&gt;Next: Scenario&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="navigate('home')" class="text-gray-400 text-xs font-bold uppercase tracking-widest w-full mt-12"&gt;Quit&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">===</span><span class="s1"> </span><span class="s12">2</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 px-2 fade-in"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">progressBar</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-10 text-center mt-8"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="text-7xl mb-8"&gt;💬&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-3xl font-serif font-bold mb-4 text-gray-800"&gt;Scenario&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-lg text-gray-600 mb-8"&gt;"A friend sent a mean message." Discuss: Is it anger? Hurt?&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="nextPatienceStep()" class="btn-base bg-steel-accent text-white w-full shadow-xl"&gt;Next: Decision&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">===</span><span class="s1"> </span><span class="s12">3</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">               </span></span><span class="s10">const</span><span class="s1"> choices </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                   </span></span><span class="s7">{</span><span class="s1">label</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"React Now"</span><span class="s7">,</span><span class="s1"> val</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"React Now"</span><span class="s7">,</span><span class="s1"> icon</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"🔥"</span><span class="s7">,</span><span class="s1"> col</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"bg-terracotta"</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                   </span></span><span class="s7">{</span><span class="s1">label</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Pause"</span><span class="s7">,</span><span class="s1"> val</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Pause"</span><span class="s7">,</span><span class="s1"> icon</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"🌬️"</span><span class="s7">,</span><span class="s1"> col</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"bg-steel-accent"</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                   </span></span><span class="s7">{</span><span class="s1">label</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Ask Help"</span><span class="s7">,</span><span class="s1"> val</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Ask for Help"</span><span class="s7">,</span><span class="s1"> icon</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"🤝"</span><span class="s7">,</span><span class="s1"> col</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"bg-success"</span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">               </span></span><span class="s7">];</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">               </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 px-2 fade-in"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                   </span></span><span class="s7">${</span><span class="s4">progressBar</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                   </span>&lt;div class="text-center mb-8"&gt;&lt;h3 class="text-2xl font-serif font-bold text-gray-800"&gt;Choose Response&lt;/h3&gt;&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                   </span>&lt;div class="space-y-4"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                       </span></span><span class="s7">${</span><span class="s4">choices</span><span class="s7">.</span><span class="s4">map</span><span class="s7">(</span><span class="s4">c </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s1">`&lt;button onclick="handlePatienceDecision('</span><span class="s7">${</span><span class="s4">c</span><span class="s7">.</span><span class="s4">val</span><span class="s7">}</span><span class="s1">')" class="card w-full p-4 flex items-center justify-between active:scale-95 border-l-4 border-transparent hover:border-steel-accent"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                           </span>&lt;span class="text-3xl mr-4"&gt;</span><span class="s7">${</span><span class="s4">c</span><span class="s7">.</span><span class="s4">icon</span><span class="s7">}</span><span class="s1">&lt;/span&gt;&lt;span class="font-bold text-lg text-gray-700"&gt;</span><span class="s7">${</span><span class="s4">c</span><span class="s7">.</span><span class="s4">label</span><span class="s7">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                       </span>&lt;/button&gt;`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">)}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                   </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">               </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">===</span><span class="s1"> </span><span class="s12">4</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 px-2 fade-in text-center"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">progressBar</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-8 border-t-4 border-steel-accent"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-2xl font-serif font-bold mb-4 text-gray-800"&gt;Result&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-lg text-gray-600 italic"&gt;"The pause lets you breathe. You feel calmer."&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="nextPatienceStep()" class="btn-base bg-steel-accent text-white w-full mt-8"&gt;Reflect&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">===</span><span class="s1"> </span><span class="s12">5</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-8 pb-24 px-2 fade-in text-center"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">progressBar</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-8"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-2xl font-serif font-bold mb-3 text-gray-800"&gt;Reflection&lt;/h3&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;textarea id="reflection-input" rows="4" class="input-field mb-6" placeholder="I felt..."&gt;&lt;/textarea&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="savePatienceReflection()" class="btn-base bg-steel-accent text-white w-full shadow-xl"&gt;Complete&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Truth Ritual Helpers &amp; Render</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> truthScenarios </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"A dog wearing a funny hat."</span><span class="s7">,</span><span class="s4"> answer</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'PRETEND'</span><span class="s7">,</span><span class="s4"> icon</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'🐶'</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Feeling happy when you get a hug."</span><span class="s7">,</span><span class="s4"> answer</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'REAL'</span><span class="s7">,</span><span class="s4"> icon</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'🤗'</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"A chair that can fly."</span><span class="s7">,</span><span class="s4"> answer</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'PRETEND'</span><span class="s7">,</span><span class="s4"> icon</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'🪑'</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span><span class="s1"> text</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Your tummy rumbling."</span><span class="s7">,</span><span class="s1"> answer</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'REAL'</span><span class="s7">,</span><span class="s1"> icon</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'🍎'</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">{</span><span class="s4"> text</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"A monster under the bed."</span><span class="s7">,</span><span class="s4"> answer</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'PRETEND'</span><span class="s7">,</span><span class="s4"> icon</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'👾'</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">];</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">handleTruthInput </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">choice</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> current </span><span class="s7">=</span><span class="s1"> truthScenarios</span><span class="s7">[</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">ritualStep </span><span class="s7">-</span><span class="s1"> </span><span class="s12">1</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> isCorrect </span><span class="s7">=</span><span class="s1"> choice </span><span class="s7">===</span><span class="s1"> current</span><span class="s7">.</span><span class="s1">answer</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s7">(</span><span class="s1">isCorrect</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s7">(!</span><span class="s1">appState</span><span class="s7">.</span><span class="s1">truth</span><span class="s7">)</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">truth </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> correct</span><span class="s7">:</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> total</span><span class="s7">:</span><span class="s1"> </span><span class="s12">0</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">truth</span><span class="s7">.</span><span class="s1">correct</span><span class="s7">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>alertModal</span><span class="s7">(</span><span class="s4">isCorrect </span><span class="s7">?</span><span class="s4"> </span><span class="s1">"Correct!"</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Let's Discuss"</span><span class="s7">,</span><span class="s4"> isCorrect </span><span class="s7">?</span><span class="s4"> </span><span class="s1">"That matches reality."</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Why do you think that?"</span><span class="s7">,</span><span class="s4"> </span><span class="s7">()</span><span class="s4"> </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>appState</span><span class="s7">.</span><span class="s1">ritualStep</span><span class="s7">++;</span><span class="s1"> render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">saveTruthReflection </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s10">const</span><span class="s1"> val </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'reflection-input'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">val</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">())</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> alertModal</span><span class="s7">(</span><span class="s8">"Reflect"</span><span class="s7">,</span><span class="s1"> </span><span class="s8">"Please enter a thought."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s10">const</span><span class="s1"> score </span><span class="s7">=</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">truth </span><span class="s7">?</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">truth</span><span class="s7">.</span><span class="s1">correct </span><span class="s7">:</span><span class="s1"> </span><span class="s12">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span>logRitualCompletion</span><span class="s7">(</span><span class="s8">'Truth_4-6'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> truth_accuracy_week1</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s1">score</span><span class="s7">}</span><span class="s8">/5`</span><span class="s7">,</span><span class="s1"> reflection_text_audio</span><span class="s7">:</span><span class="s1"> val </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span>alertModal</span><span class="s7">(</span><span class="s8">'Complete'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'Ritual saved!'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> navigate</span><span class="s7">(</span><span class="s8">'home'</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderTruthRitual</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> step </span><span class="s7">=</span><span class="s1"> appState</span><span class="s7">.</span><span class="s1">ritualStep</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> totalSteps </span><span class="s7">=</span><span class="s1"> </span><span class="s12">6</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> progressWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">/</span><span class="s1"> totalSteps</span><span class="s7">)</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s12">100</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s4"> progressBar </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;div class="w-full bg-gray-100 rounded-full h-1.5 mb-6 overflow-hidden"&gt;&lt;div class="bg-sky-accent h-1.5 rounded-full transition-all duration-500" style="width: </span><span class="s7">${</span><span class="s4">progressWidth</span><span class="s7">}</span><span class="s1">%"&gt;&lt;/div&gt;&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">step </span><span class="s7">&lt;=</span><span class="s1"> </span><span class="s12">5</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// FIX: Use dynamic scenarios based on step</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> scenario </span><span class="s7">=</span><span class="s1"> truthScenarios</span><span class="s7">[</span><span class="s1">step </span><span class="s7">-</span><span class="s1"> </span><span class="s12">1</span><span class="s7">];</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-12 pb-24 text-center fade-in px-2"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">progressBar</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span class="text-[10px] font-bold tracking-[0.2em] uppercase text-gray-400 mb-8 block"&gt;Truth Kit • Card </span><span class="s7">${</span><span class="s4">step</span><span class="s7">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-10 mb-8 border-t-8 border-sky-accent"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="text-8xl mb-8"&gt;</span><span class="s7">${</span><span class="s4">scenario</span><span class="s7">.</span><span class="s4">icon</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-3xl font-serif font-bold text-gray-800"&gt;</span><span class="s7">${</span><span class="s4">scenario</span><span class="s7">.</span><span class="s4">text</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-2 gap-4"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="handleTruthInput('REAL')" class="card p-6 flex flex-col items-center justify-center active:scale-95"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;span class="text-4xl mb-2"&gt;✅&lt;/span&gt;&lt;span class="font-bold text-gray-600"&gt;REAL&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="handleTruthInput('PRETEND')" class="card p-6 flex flex-col items-center justify-center active:scale-95"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;span class="text-4xl mb-2"&gt;❌&lt;/span&gt;&lt;span class="font-bold text-gray-600"&gt;PRETEND&lt;/span&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="navigate('home')" class="text-gray-400 text-xs font-bold uppercase tracking-widest w-full mt-12"&gt;Quit&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s4"> </span><span class="s1">`&lt;div class="pt-12 pb-24 text-center fade-in px-2"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">progressBar</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h1 class="text-3xl font-serif font-bold text-sky-accent mb-8"&gt;Reflection&lt;/h1&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="card p-8"&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;textarea id="reflection-input" rows="4" class="input-field mb-6"&gt;&lt;/textarea&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="saveTruthReflection()" class="btn-base bg-sky-accent text-white w-full shadow-xl"&gt;Finish&lt;/button&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Ensure DOM is loaded</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'DOMContentLoaded'</span><span class="s7">,</span><span class="s1"> initApp</span><span class="s7">);</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
